{"version":3,"sources":["webpack:////Users/yangwenlong/Desktop/along/uniapp-study/main.js","webpack:////Users/yangwenlong/Desktop/along/uniapp-study/pages/index/lwj-record.vue?71e9","webpack:////Users/yangwenlong/Desktop/along/uniapp-study/pages/index/lwj-record.vue?3561","webpack:////Users/yangwenlong/Desktop/along/uniapp-study/pages/index/lwj-record.vue?58ad","webpack:////Users/yangwenlong/Desktop/along/uniapp-study/pages/index/lwj-record.vue?fd68","webpack:////Users/yangwenlong/Desktop/along/uniapp-study/pages/index/lwj-record.vue","webpack:////Users/yangwenlong/Desktop/along/uniapp-study/pages/index/lwj-record.vue?ff8b","webpack:////Users/yangwenlong/Desktop/along/uniapp-study/pages/index/lwj-record.vue?8add"],"names":["createPage","Page","recorderManager","uni","getRecorderManager","innerAudioContext","createInnerAudioContext","name","props","recordTime","type","Number","default","popupPlaceholder","String","popupTitle","recordPathList","Array","watch","length","hasRecord","whichPage","newVal","lwjFun","isRepeat","showToast","push","voicePath","time","promptVisible","flag","mounted","data","exist","chooseList","playItem","currentTime","components","Prompt","computed","showRecordTime","formatTime","methods","closeRecord","$emit","startRecord","_this","title","icon","start","duration","timeObj","setInterval","pauseRecord","pause","clearInterval","resumeRecord","resume","stopRecord","stop","onStop","res","tempFilePath","click","e","detail","value","changeBtnPage","canMove","stopPlay","current","console","log","deleteRecord","deleteListMethods","clickPromptConfirm","val","clickPromptCancel","deleteOneFile","playRecord","autoplay","playPath","findRecordPath","src","undefined","seek","play","onPlay","setTimeout","Math","round","playTimeClock","onEnded","pausePlay","onPause"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,sG;AACAA,UAAU,CAACC,kBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmI;AACnI;AAC8D;AACL;AACqC;;;AAG9F;AACgN;AAChN,gBAAgB,iNAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,iGAAM;AACR,EAAE,0GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAw0B,CAAgB,wyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC6D51B,kH,8FA7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;gTAIA;AACA,IAAMC,eAAe,GAAGC,GAAG,CAACC,kBAAJ,EAAxB,C,CACA;AACA,IAAMC,iBAAiB,GAAGF,GAAG,CAACG,uBAAJ,EAA1B,C,gBAEe,EACdC,IAAI,EAAE,YADQ,EAEdC,KAAK,EAAE,EACNC,UAAU,EAAE,EAAE;AACbC,UAAI,EAAEC,MADK,EAEXC,OAAO,EAAE,GAFE,CAEE;AAFF,KADN,EAKNC,gBAAgB,EAAE,EACjBH,IAAI,EAAEI,MADW,EAEjBF,OAAO,EAAE,OAFQ,EALZ,EASNG,UAAU,EAAE,EACXL,IAAI,EAAEI,MADK,EAEXF,OAAO,EAAE,YAFE,EATN,EAaNI,cAAc,EAAG,EAChBN,IAAI,EAAEO,KADU,EAEhBL,OAAO,EAAE,oBAAW,CACnB,OAAO,EAAP,CACA,CAJe,EAbX,EAFO,EAsBdM,KAAK,EAAE,EACN;AACAF,kBAFM,4BAEW,CAChB;AACA,WAAKA,cAAL,CAAoBG,MAApB,IAA8B,CAA9B,GAAkC,KAAKC,SAAL,GAAiB,IAAnD,GAA0D,KAAKA,SAAL,GAAiB,KAA3E,CACA,CALK,EAMN;AACAC,aAPM,uBAOM,CACX,KAAKA,SAAL,IAAkB,CAAlB,GAAsB,KAAKD,SAAL,GAAiB,KAAvC,GAA6C,KAAKA,SAAL,GAAiB,IAA9D,CACA,CATK,EAUN;AACAb,QAXM,gBAWDe,MAXC,EAWO,CACZ;AACA,UAAI,KAAKf,IAAL,IAAa,EAAjB,EAAqB,CACpB;AACA,YAAIgB,mBAAOC,QAAP,CAAgBF,MAAhB,EAAwB,KAAKN,cAA7B,CAAJ,EAAkD,CACjDO,mBAAOE,SAAP,CAAiB,cAAjB,EAAiC,QAAjC,EACA,CAFD,MAEO,CACNF,mBAAOE,SAAP,CAAiB,MAAjB,EAAyB,QAAzB,EADM,CAEN;AACA,eAAKT,cAAL,CAAoBU,IAApB,CAAyB,EACxBC,SAAS,EAAE,KAAKA,SADQ,EACG;AAC3BC,gBAAI,EAAE,KAAKA,IAFa,EAEP;AACjBrB,gBAAI,EAAE,KAAKA,IAHa,CAGR;AAHQ,WAAzB,EAHM,CAQN;AACA,eAAKA,IAAL,GAAY,EAAZ,CATM,CAUN;AACA,eAAKoB,SAAL,GAAiB,GAAjB,CAXM,CAYN;AACA,eAAKC,IAAL,GAAY,CAAZ,CAbM,CAcN;AACA,eAAKC,aAAL,GAAqB,KAArB,CAfM,CAgBN;AACA,eAAKC,IAAL,GAAY,CAAZ,CACA,CACD,EACD,CArCK,EAtBO,EA6DdC,OA7Dc,qBA6DJ,CACT;AACA;AACA,QAAG,KAAKf,cAAL,CAAoBG,MAApB,IAA8B,CAAjC,EAAmC,KAAKC,SAAL,GAAiB,IAAjB,CACnC,CAjEa,EAkEdY,IAlEc,kBAkEP,CACN,OAAO,EACN;AACAC,WAAK,EAAE,IAFD,EAGN;AACAH,UAAI,EAAE,CAJA,EAKN;AACAV,eAAS,EAAE,KANL,EAON;AACAO,eAAS,EAAE,EARL,EASN;AACA;AACAC,UAAI,EAAE,CAXA,EAYN;AACAM,gBAAU,EAAE,EAbN,EAcN;AACAC,cAAQ,EAAE,IAfJ;AAgBN;AACAN,mBAAa,EAAE,KAjBT;AAkBN;AACAtB,UAAI,EAAE,EAnBA;AAoBN;AACA6B,iBAAW,EAAE,CArBP;AAsBN;AACAf,eAAS,EAAE,CAvBL,EAAP;;AAyBA,GA5Fa;AA6FdgB,YAAU,EAAE;AACXC,UAAM,EAANA,MADW,EA7FE;;AAgGdC,UAAQ,EAAE;AACT;AACAC,kBAFS,4BAEQ;AAChB,aAAOjB,mBAAOkB,UAAP,CAAkB,KAAKb,IAAvB,CAAP;AACA,KAJQ,EAhGI;;AAsGdc,SAAO,EAAE;AACR;AACAC,eAFQ,yBAEM;AACb;AACA;AACA,UAAG,KAAKb,IAAL,IAAa,CAAb,IAAkB,KAAKF,IAAL,IAAa,CAAlC,EAAqC;AACpC;AACA,aAAKK,KAAL,GAAa,KAAb;AACA;AACA,aAAKW,KAAL,CAAW,aAAX,EAA0B,KAAK5B,cAA/B;AACA;AACD,KAXO;AAYR;AACA6B,eAbQ,yBAaM;AACb,UAAIC,KAAK,GAAG,IAAZ;AACA;AACA3C,SAAG,CAACsB,SAAJ,CAAc;AACbsB,aAAK,EAAE,GADM;AAEbC,YAAI,EAAE,MAFO,EAAd;;AAIA9C,qBAAe,CAAC+C,KAAhB,CAAsB;AACrBC,gBAAQ,EAAE,KAAKzC,UAAL,GAAgB,IADL,CACU;AADV,OAAtB;AAGA,UAAI,KAAK0C,OAAL,IAAgB,IAApB,EAA0B;AACzB;AACA,aAAKA,OAAL,GAAeC,WAAW,CAAC,YAAW;AACrCN,eAAK,CAAClB,IAAN;AACA,SAFyB,EAEvB,IAFuB,CAA1B;AAGA;AACA,aAAKE,IAAL,GAAY,CAAZ;AACA;AACD,KA/BO;AAgCR;AACAuB,eAjCQ,yBAiCM;AACb;AACAnD,qBAAe,CAACoD,KAAhB;AACA;AACAC,mBAAa,CAAC,KAAKJ,OAAN,CAAb;AACA;AACA,WAAKA,OAAL,GAAe,IAAf;AACA;AACA,WAAKrB,IAAL,GAAY,CAAZ;AACA,KA1CO;AA2CR;AACA0B,gBA5CQ,0BA4CO;AACd,UAAIV,KAAK,GAAG,IAAZ;AACA;AACA5C,qBAAe,CAACuD,MAAhB;AACA,UAAI,KAAKN,OAAL,IAAgB,IAApB,EAA0B;AACzB;AACA,aAAKA,OAAL,GAAeC,WAAW,CAAC,YAAW;AACrCN,eAAK,CAAClB,IAAN;AACA,SAFyB,EAEvB,IAFuB,CAA1B;AAGA;AACA,aAAKE,IAAL,GAAY,CAAZ;AACA;AACD,KAxDO;AAyDR;AACA4B,cA1DQ,wBA0DK;AACZ;AACA,UAAI,KAAK5B,IAAL,IAAa,CAAjB,EAAoB;AACpB,UAAIgB,KAAK,GAAG,IAAZ;AACA;AACA5C,qBAAe,CAACyD,IAAhB;AACA;AACAzD,qBAAe,CAAC0D,MAAhB,CAAuB,UAASC,GAAT,EAAc;AACpC;AACAN,qBAAa,CAACT,KAAK,CAACK,OAAP,CAAb;AACA;AACAL,aAAK,CAACK,OAAN,GAAgB,IAAhB;AACA;AACAL,aAAK,CAACnB,SAAN,GAAkBkC,GAAG,CAACC,YAAtB;AACA;AACAhB,aAAK,CAACjB,aAAN,GAAsB,IAAtB;AACA,OATD;AAUA,KA3EO;AA4ER;AACAkC,SA7EQ,iBA6EFC,CA7EE,EA6EC;AACR;AACA,WAAK9B,UAAL,GAAkB8B,CAAC,CAACC,MAAF,CAASC,KAA3B;AACA,KAhFO;AAiFR;AACAC,iBAlFQ,yBAkFMH,CAlFN,EAkFS;AAChB,UAAII,OAAO,GAAI,KAAK/C,SAAL,IAAkB,CAAlB,IAAuB,KAAKS,IAAL,IAAa,CAArC,IAA4C,KAAKT,SAAL,IAAkB,CAAlB,IAAuB,KAAKO,IAAL,IAAa,CAA9F;AACA;AACA,UAAG,CAACwC,OAAJ,EAAa;AACZ;AACA,YAAG,KAAK/C,SAAL,IAAkB,CAArB,EAAwB;AACvB,eAAKqC,UAAL;AACA;AACD;AACA,YAAG,KAAKrC,SAAL,IAAkB,CAArB,EAAwB;AACvB,eAAKgD,QAAL;AACA;AACD;AACD;AACA,WAAKhD,SAAL,GAAiB2C,CAAC,CAACC,MAAF,CAASK,OAA1B;AACAC,aAAO,CAACC,GAAR,CAAY,KAAKtC,UAAjB;AACA,KAlGO;AAmGR;AACAuC,gBApGQ,0BAoGO;AACd;AACA,WAAKzD,cAAL,GAAsBO,mBAAOmD,iBAAP,CAAyB,KAAK1D,cAA9B,EAA8C,KAAKkB,UAAnD,CAAtB;AACA;AACA,WAAKA,UAAL,GAAkB,EAAlB;AACA;AACAX,yBAAOE,SAAP,CAAiB,MAAjB,EAAyB,QAAzB;AACA,KA3GO;AA4GR;AACAkD,sBA7GQ,8BA6GWC,GA7GX,EA6GgB;AACvB;AACA,WAAKrE,IAAL,GAAYqE,GAAZ;AACA,KAhHO;AAiHR;AACAC,qBAlHQ,+BAkHY;AACnB;AACA,WAAKhD,aAAL,GAAqB,KAArB;AACA;AACA;AACAN,yBAAOuD,aAAP,CAAqB,KAAKnD,SAA1B;AACA,WAAKA,SAAL,GAAiB,EAAjB;AACA;AACA,WAAKC,IAAL,GAAY,CAAZ;AACA;AACA,WAAKE,IAAL,GAAY,CAAZ;AACA,KA7HO;AA8HR;AACAiD,cA/HQ,wBA+HK;AACZ,UAAIjC,KAAK,GAAG,IAAZ;AACAzC,uBAAiB,CAAC2E,QAAlB,GAA6B,IAA7B;AACA;AACA,UAAI,KAAK5C,WAAL,IAAoB,CAAxB,EAA2B;AAC1B,YAAG,KAAKF,UAAL,CAAgBf,MAAhB,IAA0B,CAA7B,EAAgC;AAC/BI,6BAAOE,SAAP,CAAiB,iBAAjB,EAAmC,QAAnC;AACA;AACD;AACA,aAAKU,QAAL,GAAgB,KAAKD,UAAL,CAAgB,CAAhB,CAAhB;AACA;AACA,YAAI+C,QAAQ,GAAG1D,mBAAO2D,cAAP,CAAsB,KAAK/C,QAA3B,EAAoC,KAAKnB,cAAzC,CAAf;AACAuD,eAAO,CAACC,GAAR,CAAYS,QAAZ;AACA;AACA,YAAGA,QAAQ,IAAI,IAAf,EAAqB;AACpB;AACA5E,2BAAiB,CAAC8E,GAAlB,GAAwBF,QAAxB;AACA,SAHD,MAGO;AACN1D,6BAAOE,SAAP,CAAiB,UAAjB,EAA4B,QAA5B;AACA;AACApB,2BAAiB,CAAC8E,GAAlB,GAAwBC,SAAxB;AACA;AACA;AACD,OAnBD,MAmBO;AACN;AACA;AACA/E,yBAAiB,CAACgF,IAAlB,GAAyB,KAAKjD,WAA9B;AACA;AACD/B,uBAAiB,CAACiF,IAAlB;AACAjF,uBAAiB,CAACkF,MAAlB,CAAyB,YAAW;AACnC;AACA,YAAIzC,KAAK,CAACV,WAAN,IAAqB,CAAzB,EAA4B;AAC3B;AACA/B,2BAAiB,CAAC6C,QAAlB;AACAsC,oBAAU,CAAC,YAAW;AACrB;AACA1C,iBAAK,CAAClB,IAAN,GAAa6D,IAAI,CAACC,KAAL,CAAWrF,iBAAiB,CAAC6C,QAA7B,CAAb;AACA,WAHS,EAGP,EAHO,CAAV;AAIA;AACD,YAAIJ,KAAK,CAAC6C,aAAN,IAAuB,IAA3B,EAAiC;AAChC;AACA7C,eAAK,CAAC6C,aAAN,GAAsBvC,WAAW,CAAC,YAAW;AAC5CN,iBAAK,CAAClB,IAAN;AACA,WAFgC,EAE9B,IAF8B,CAAjC;AAGA;AACD,OAhBD;AAiBA;AACAvB,uBAAiB,CAACuF,OAAlB,CAA0B,YAAW;AACpC;AACArC,qBAAa,CAACT,KAAK,CAAC6C,aAAP,CAAb;AACA;AACA7C,aAAK,CAAC6C,aAAN,GAAsB,IAAtB;AACA;AACA7C,aAAK,CAAClB,IAAN,GAAa,CAAb;AACA;AACAkB,aAAK,CAACV,WAAN,GAAoB,CAApB;AACA;AACA/B,yBAAiB,CAAC8E,GAAlB,GAAwBC,SAAxB;AACA,OAXD;AAYA,KA1LO;AA2LR;AACAS,aA5LQ,uBA4LI;AACX,UAAG,KAAK3D,UAAL,CAAgBf,MAAhB,IAA0B,CAA7B,EAA+B;AAC9BI,2BAAOE,SAAP,CAAiB,MAAjB,EAAyB,QAAzB;AACA;AACA;AACD,UAAIqB,KAAK,GAAG,IAAZ;AACAzC,uBAAiB,CAACiD,KAAlB;AACA;AACAjD,uBAAiB,CAACyF,OAAlB,CAA0B,YAAW;AACpC;AACAhD,aAAK,CAACV,WAAN,GAAoBqD,IAAI,CAACC,KAAL,CAAWrF,iBAAiB,CAAC+B,WAA7B,CAApB;AACA;AACAmB,qBAAa,CAACT,KAAK,CAAC6C,aAAP,CAAb;AACA;AACA7C,aAAK,CAAC6C,aAAN,GAAsB,IAAtB;AACA,OAPD;AAQA,KA5MO;AA6MR;AACAtB,YA9MQ,sBA8MG;AACV,UAAG,KAAKnC,UAAL,CAAgBf,MAAhB,IAA0B,CAA7B,EAA+B;AAC9BI,2BAAOE,SAAP,CAAiB,MAAjB,EAAyB,QAAzB;AACA;AACA;AACDpB,uBAAiB,CAACsD,IAAlB;AACA;AACAJ,mBAAa,CAAC,KAAKoC,aAAN,CAAb;AACA;AACA,WAAKA,aAAL,GAAqB,IAArB;AACA;AACA,WAAK/D,IAAL,GAAY,CAAZ;AACA;AACA,WAAKQ,WAAL,GAAmB,CAAnB;AACA;AACA/B,uBAAiB,CAAC8E,GAAlB,GAAwBC,SAAxB;AACA,KA9NO,EAtGK,E;;;;;;;;;;;;;ACpEf;AAAA;AAAA;AAAA;AAA6sC,CAAgB,6nCAAG,EAAC,C;;;;;;;;;;;ACAjuC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/index/lwj-record.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/index/lwj-record.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./lwj-record.vue?vue&type=template&id=625a2b6b&scoped=true&\"\nvar renderjs\nimport script from \"./lwj-record.vue?vue&type=script&lang=js&\"\nexport * from \"./lwj-record.vue?vue&type=script&lang=js&\"\nimport style0 from \"./lwj-record.vue?vue&type=style&index=0&id=625a2b6b&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"625a2b6b\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"Users/yangwenlong/Desktop/along/uniapp-study/pages/index/lwj-record.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./lwj-record.vue?vue&type=template&id=625a2b6b&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./lwj-record.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./lwj-record.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport lwjFun from \"@/components/lwj-record/js/lwj-record.js\"\nimport Prompt from \"@/components/zz-prompt/index.vue\"\n// 获取全局唯一的录音管理器 recorderManager\nconst recorderManager = uni.getRecorderManager();\n// 创建并返回内部 audio 上下文 innerAudioContext 对象\nconst innerAudioContext = uni.createInnerAudioContext();\n\nexport default {\n\tname: \"lwj-record\",\n\tprops: {\n\t\trecordTime: { // 录音的最长时间，单位毫秒\n\t\t\ttype: Number,\n\t\t\tdefault: 600 // 默认最长10分钟，600s = 10min\n\t\t},\n\t\tpopupPlaceholder: {\n\t\t\ttype: String,\n\t\t\tdefault: \"请主人赐名\"\n\t\t},\n\t\tpopupTitle: {\n\t\t\ttype: String,\n\t\t\tdefault: \"给这条录音起个名字吧\"\n\t\t},\n\t\trecordPathList : {\n\t\t\ttype: Array,\n\t\t\tdefault: function() {\n\t\t\t\treturn []\n\t\t\t}\n\t\t}\n\t},\n\twatch: {\n\t\t// 监听录音文件路径数组的值变化\n\t\trecordPathList() {\n\t\t\t// 倘若没有录音，那么就不会显示删除录音按钮\n\t\t\tthis.recordPathList.length != 0 ? this.hasRecord = true : this.hasRecord = false;\n\t\t},\n\t\t// 监听whichPage\n\t\twhichPage() {\n\t\t\tthis.whichPage == 1 ? this.hasRecord = false:this.hasRecord = true;\n\t\t},\n\t\t// 监听name值的变化\n\t\tname(newVal) {\n\t\t\t// 用户要是命名了，说明用户要保存这条数据，会执行之后的代码内容\n\t\t\tif (this.name != \"\") {\n\t\t\t\t// 如果命名重复\n\t\t\t\tif (lwjFun.isRepeat(newVal, this.recordPathList)) {\n\t\t\t\t\tlwjFun.showToast(\"请不要起同样的名字哦~~\", \"bottom\");\n\t\t\t\t} else {\n\t\t\t\t\tlwjFun.showToast(\"保存成功\", \"bottom\");\n\t\t\t\t\t// 如果命名没有重复，向recordPathList中加入一条记录\n\t\t\t\t\tthis.recordPathList.push({\n\t\t\t\t\t\tvoicePath: this.voicePath, // 录音文件路径\n\t\t\t\t\t\ttime: this.time, // 录音时长\n\t\t\t\t\t\tname: this.name // 用户自定义命名的文件名\n\t\t\t\t\t});\n\t\t\t\t\t// name值置空\n\t\t\t\t\tthis.name = \"\";\n\t\t\t\t\t// voicePath置空\n\t\t\t\t\tthis.voicePath = \";\"\n\t\t\t\t\t// 点击停止并重命名后，记录的录音时间归零\n\t\t\t\t\tthis.time = 0;\n\t\t\t\t\t// 让弹出框消失\n\t\t\t\t\tthis.promptVisible = false;\n\t\t\t\t\t// 点击停止录音并且重命名后，将按钮变成开始录音\n\t\t\t\t\tthis.flag = 1;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t},\n\tmounted() {\n\t\t// 当recordPathList的内容是传进去的话，watch无法监听到，\n\t\t// 需要在mounted这里监听，不然会光有录音列表，而没有删除按钮\n\t\tif(this.recordPathList.length != 0)this.hasRecord = true;\n\t},\n\tdata() {\n\t\treturn {\n\t\t\t// 点击mask区域后，此组件会自动消失\n\t\t\texist: true,\n\t\t\t// 点否点击了暂停录音按钮，按钮的状态位：1代表开始录音，2代表暂停录音，3代表继续录音\n\t\t\tflag: 1,\n\t\t\t// recordPathList若有数据则为true，用来判断是否展示删除按钮的标志位\n\t\t\thasRecord: false,\n\t\t\t// 录音路径，存储的是tempFilePath\n\t\t\tvoicePath: \"\",\n\t\t\t// 1. 当前已经录制的时间，单位秒，经过computed计算后，会动态展示\n\t\t\t// 2. 当前正在播放的录音时长，单位秒，经过computed计算后，会呈现出倒计时的效果\n\t\t\ttime: 0,\n\t\t\t// 复选框选中的列表，里面存储的是recordPathList数组中每个对象的name值，供删除\n\t\t\tchooseList: [],\n\t\t\t// 记录需要播放的录音name值，name值用户定义\n\t\t\tplayItem: null,\n\t\t\t// 控制弹框输入框显示\n\t\t\tpromptVisible: false,\n\t\t\t// 用来存储用户所写的文件名，与弹出框结合使用\n\t\t\tname: \"\",\n\t\t\t// 当前音频播放的位置\n\t\t\tcurrentTime: 0,\n\t\t\t// 记录当前是录音按钮界面还是播放录音按钮界面,0为录音界面，1为播放录音按钮界面\n\t\t\twhichPage: 0,\n\t\t}\n\t},\n\tcomponents: {\n\t\tPrompt\n\t},\n\tcomputed: {\n\t\t// 动态计算已经录制的时间或者播放的录音的剩余时间\n\t\tshowRecordTime() {\n\t\t\treturn lwjFun.formatTime(this.time);\n\t\t}\n\t},\n\tmethods: {\n\t\t// 关闭组件\n\t\tcloseRecord() {\n\t\t\t// 当此时按钮为开始录音按钮时，说明没有录音，点击mask区域可以关闭此组件\n\t\t\t// 当正在播放录音时，点击mask区域不会令组件关闭,time==0说明没有录音正在播放\n\t\t\tif(this.flag == 1 && this.time == 0) {\n\t\t\t\t// 此组件消失\n\t\t\t\tthis.exist = false;\n\t\t\t\t// 组件消失的时候发送closeRecord事件，将存储的recordPathList传出去\n\t\t\t\tthis.$emit(\"closeRecord\", this.recordPathList)\n\t\t\t}\n\t\t},\n\t\t// 开始录音事件\n\t\tstartRecord() {\n\t\t\tlet _this = this;\n\t\t\t// 开始录音\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '1',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t\trecorderManager.start({\n\t\t\t\tduration: this.recordTime*1000 // 设置录制音频时长，里面传的值是ms，所以要乘1000\n\t\t\t});\n\t\t\tif (this.timeObj == null) {\n\t\t\t\t// 开始录音后，设定计时器，用以记录录音的时间\n\t\t\t\tthis.timeObj = setInterval(function() {\n\t\t\t\t\t_this.time++;\n\t\t\t\t}, 1000);\n\t\t\t\t// 点击开始录音按钮后，开始录音应该变成暂停录音\n\t\t\t\tthis.flag = 2;\n\t\t\t}\n\t\t},\n\t\t// 暂停录音事件\n\t\tpauseRecord() {\n\t\t\t// 暂停录音\n\t\t\trecorderManager.pause();\n\t\t\t// 记录录音时长也暂停\n\t\t\tclearInterval(this.timeObj);\n\t\t\t// 计时器置空\n\t\t\tthis.timeObj = null;\n\t\t\t// 点击暂停录音后，录音暂停，并且将按钮变成继续录音\n\t\t\tthis.flag = 3;\n\t\t},\n\t\t// 继续录音事件\n\t\tresumeRecord() {\n\t\t\tlet _this = this;\n\t\t\t// 继续录音\n\t\t\trecorderManager.resume();\n\t\t\tif (this.timeObj == null) {\n\t\t\t\t// 设置定时器用来记录录音时间\n\t\t\t\tthis.timeObj = setInterval(function() {\n\t\t\t\t\t_this.time++;\n\t\t\t\t}, 1000);\n\t\t\t\t// 点击继续录音后，按钮变成暂停录音\n\t\t\t\tthis.flag = 2;\n\t\t\t}\n\t\t},\n\t\t// 停止录音事件\n\t\tstopRecord() {\n\t\t\t// 只有当前flag为2或3时，即暂停录音或继续录音，结束录音事件才能被触发\n\t\t\tif (this.flag == 1) return;\n\t\t\tlet _this = this;\n\t\t\t// 停止录音\n\t\t\trecorderManager.stop();\n\t\t\t// 监听录音结束事件，获取录音文件的临时路径\n\t\t\trecorderManager.onStop(function(res) {\n\t\t\t\t// 用于记录录音时间的计数器停止\n\t\t\t\tclearInterval(_this.timeObj);\n\t\t\t\t// 计时器置空\n\t\t\t\t_this.timeObj = null;\n\t\t\t\t// 向voicePath添加路径\n\t\t\t\t_this.voicePath = res.tempFilePath;\n\t\t\t\t// 显示弹出框，之后用户命名后，会触发用于记录命名的name值的变化\n\t\t\t\t_this.promptVisible = true;\n\t\t\t});\n\t\t},\n\t\t// 点击复选框的事件方法\n\t\tclick(e) {\n\t\t\t// chooseList数组中存储的是选中项的value值\n\t\t\tthis.chooseList = e.detail.value;\n\t\t},\n\t\t// 切换滑块的时候，记录当前滑块的current值，判断是哪个滑块\n\t\tchangeBtnPage(e) {\n\t\t\tlet canMove = (this.whichPage == 0 && this.flag == 1) || (this.whichPage == 1 && this.time == 0);\n\t\t\t// 如果不满足条件说明，要么是录音的时候移动，要么就是播放录音的时候移动，需要结束当前的录音或是播放录音，才能移动\n\t\t\tif(!canMove) {\n\t\t\t\t// 当是录音期间，滑动滑块时\n\t\t\t\tif(this.whichPage == 0) {\n\t\t\t\t\tthis.stopRecord();\n\t\t\t\t} \n\t\t\t\t// 当是播放录音期间，滑动滑块时\n\t\t\t\tif(this.whichPage == 1) {\n\t\t\t\t\tthis.stopPlay();\n\t\t\t\t}\n\t\t\t}\n\t\t\t// 记录当前滑块的值\n\t\t\tthis.whichPage = e.detail.current;\n\t\t\tconsole.log(this.chooseList)\n\t\t},\n\t\t// 删除记录\n\t\tdeleteRecord() {\n\t\t\t// chooseList中涵盖的，recordPathList数组都会剔除，删除录音列表，以及对应文件\n\t\t\tthis.recordPathList = lwjFun.deleteListMethods(this.recordPathList, this.chooseList);\n\t\t\t// 进行删除操作后，选中列表清空\n\t\t\tthis.chooseList = [];\n\t\t\t// 告知用户删除结果\n\t\t\tlwjFun.showToast(\"删除成功\", \"bottom\");\n\t\t},\n\t\t// 弹出框点击确认的事件，将用户的输入弹出框的名字保存\n\t\tclickPromptConfirm(val) {\n\t\t\t// 记录用户定义录音文件的name名字\n\t\t\tthis.name = val;\n\t\t},\n\t\t// 弹出框点击取消事件，隐藏弹出框，并且取消保存这条录音已经记录\n\t\tclickPromptCancel() {\n\t\t\t// 隐藏弹出框\n\t\t\tthis.promptVisible = false;\n\t\t\t//因为此时name值为空，所以点击取消时，不需要再name=\"\"，116行，每次保存成功都会令name=\"\"\n\t\t\t// 删除这条录音文件\n\t\t\tlwjFun.deleteOneFile(this.voicePath);\n\t\t\tthis.voicePath = \"\";\n\t\t\t// 将显示用的时间清零\n\t\t\tthis.time = 0;\n\t\t\t// 将按钮变为开始录音按钮\n\t\t\tthis.flag = 1;\n\t\t},\n\t\t// 播放录音事件\n\t\tplayRecord() {\n\t\t\tlet _this = this;\n\t\t\tinnerAudioContext.autoplay = true;\n\t\t\t// currentTime为0说明当前处于从头播放录音的状态，需要设置音频的路径\n\t\t\tif (this.currentTime == 0) {\n\t\t\t\tif(this.chooseList.length != 1) {\n\t\t\t\t\tlwjFun.showToast(\"有多个选中项，只播放最上面一条\",\"bottom\");\n\t\t\t\t}\n\t\t\t\t// 倘若在播放界面有多个选中项，只播放第一条音频\n\t\t\t\tthis.playItem = this.chooseList[0];\n\t\t\t\t// 得到name值为playItem对应的文件路径\n\t\t\t\tlet playPath = lwjFun.findRecordPath(this.playItem,this.recordPathList);\n\t\t\t\tconsole.log(playPath)\n\t\t\t\t// 设置音频文件路径\n\t\t\t\tif(playPath != null) {\n\t\t\t\t\t// 设置音频播放的路径\n\t\t\t\t\tinnerAudioContext.src = playPath;\n\t\t\t\t} else {\n\t\t\t\t\tlwjFun.showToast(\"当前播放路径无效\",\"bottom\");\n\t\t\t\t\t// 路径无效时，将此时的音频设置为undefined\n\t\t\t\t\tinnerAudioContext.src = undefined;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// currentTime！=0说明有当前有音频还未结束播放\n\t\t\t\t// 设置音频播放跳转的位置，currentTime会在监听暂停事件中进行赋值设置\n\t\t\t\tinnerAudioContext.seek = this.currentTime;\n\t\t\t}\n\t\t\tinnerAudioContext.play();\n\t\t\tinnerAudioContext.onPlay(function() {\n\t\t\t\t// 即currentTime为0时，说明当前需要将音频从头播放，获取音频总时长\n\t\t\t\tif (_this.currentTime == 0) {\n\t\t\t\t\t// 设置当前音频总时长\n\t\t\t\t\tinnerAudioContext.duration;\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t// 获取当前音频总时长，四舍五入\n\t\t\t\t\t\t_this.time = Math.round(innerAudioContext.duration);\n\t\t\t\t\t}, 50);\n\t\t\t\t}\n\t\t\t\tif (_this.playTimeClock == null) {\n\t\t\t\t\t// 创建名字为playTimeClock的定时器，用于做倒计时\n\t\t\t\t\t_this.playTimeClock = setInterval(function() {\n\t\t\t\t\t\t_this.time--;\n\t\t\t\t\t}, 1000);\n\t\t\t\t}\n\t\t\t});\n\t\t\t// 监听自然播放结束\n\t\t\tinnerAudioContext.onEnded(function() {\n\t\t\t\t// 清除倒计时\n\t\t\t\tclearInterval(_this.playTimeClock);\n\t\t\t\t// 计时器置空\n\t\t\t\t_this.playTimeClock = null;\n\t\t\t\t// 当自然播放结束后，将显示倒计时的时间置空\n\t\t\t\t_this.time = 0;\n\t\t\t\t// 即便在播放过程中出现过几次暂停，只要不是通过stop结束的音频，都属于自然播放\n\t\t\t\t_this.currentTime = 0;\n\t\t\t\t// 录音播放停止后，将此时的音频播放路径指向一个无效地址\n\t\t\t\tinnerAudioContext.src = undefined;\n\t\t\t});\n\t\t},\n\t\t// 暂停录音事件\n\t\tpausePlay() {\n\t\t\tif(this.chooseList.length == 0){\n\t\t\t\tlwjFun.showToast(\"无效操作\", \"bottom\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet _this = this;\n\t\t\tinnerAudioContext.pause()\n\t\t\t// 监听暂停播放事件\n\t\t\tinnerAudioContext.onPause(function() {\n\t\t\t\t// 记录当前播放的位置，用于继续播放的能够直接定位到之前的位置\n\t\t\t\t_this.currentTime = Math.round(innerAudioContext.currentTime);\n\t\t\t\t// 清除倒计时\n\t\t\t\tclearInterval(_this.playTimeClock);\n\t\t\t\t// 将计时器设置为空\n\t\t\t\t_this.playTimeClock = null;\n\t\t\t});\n\t\t},\n\t\t// 停止播放录音\n\t\tstopPlay() {\n\t\t\tif(this.chooseList.length == 0){\n\t\t\t\tlwjFun.showToast(\"无效操作\", \"bottom\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tinnerAudioContext.stop();\n\t\t\t// 清除倒计时\n\t\t\tclearInterval(this.playTimeClock);\n\t\t\t// 计时器置空\n\t\t\tthis.playTimeClock = null;\n\t\t\t// 当点击停止播放后，将显示倒计时的时间置空\n\t\t\tthis.time = 0;\n\t\t\t// 停止后，当前播放位置应该是0\n\t\t\tthis.currentTime = 0;\n\t\t\t// 录音播放停止后，将此时的音频播放路径设置为undefined\n\t\t\tinnerAudioContext.src = undefined;\n\t\t}\n\t}\n}\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./lwj-record.vue?vue&type=style&index=0&id=625a2b6b&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./lwj-record.vue?vue&type=style&index=0&id=625a2b6b&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1590411114459\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}