(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-lwj-record"],{"0a49":function(n,t,e){var i=e("d129");"string"===typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);var o=e("4f06").default;o("59ca1a40",i,!0,{sourceMap:!1,shadowMode:!1})},1569:function(n,t,e){"use strict";var i,o=function(){var n=this,t=n.$createElement,e=n._self._c||t;return n.exist?e("v-uni-view",[e("v-uni-view",{staticClass:"mask",on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.closeRecord.apply(void 0,arguments)}}}),e("v-uni-view",{staticClass:"record_box"},[e("v-uni-view",{staticClass:"tool_box"},[e("v-uni-view",{staticClass:"showTime"},[e("v-uni-view",{staticClass:"showTime_content"},[n._v(n._s(n.showRecordTime))])],1),e("v-uni-swiper",{staticClass:"button_list",attrs:{"indicator-dots":!0},on:{change:function(t){arguments[0]=t=n.$handleEvent(t),n.changeBtnPage.apply(void 0,arguments)}}},[e("v-uni-swiper-item",{staticClass:"button_box_one",staticStyle:{display:"flex","flex-direction":"column","justify-content":"space-around"}},[1==n.flag?e("v-uni-button",{attrs:{type:"primary",plain:"true"},on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.startRecord()}}},[n._v("开始录音")]):2==n.flag?e("v-uni-button",{attrs:{type:"primary",plain:"true"},on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.pauseRecord()}}},[n._v("暂停录音")]):e("v-uni-button",{attrs:{type:"primary",plain:"true"},on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.resumeRecord()}}},[n._v("继续录音")]),e("v-uni-button",{attrs:{type:"primary",plain:"true"},on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.stopRecord()}}},[n._v("停止录音")])],1),e("v-uni-swiper-item",{staticClass:"button_box_two",staticStyle:{display:"flex","flex-direction":"column","justify-content":"space-around"}},[e("v-uni-button",{attrs:{type:"primary",plain:"true"},on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.playRecord()}}},[n._v("播放录音")]),e("v-uni-button",{attrs:{type:"primary",plain:"true"},on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.pausePlay()}}},[n._v("暂停播放")]),e("v-uni-button",{attrs:{type:"primary",plain:"true"},on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.stopPlay()}}},[n._v("停止播放")])],1)],1)],1),e("v-uni-view",{staticClass:"record_contentBox"},[e("v-uni-view",{staticClass:"record_list_title"},[n._v("当前录音列表")]),e("v-uni-checkbox-group",{on:{change:function(t){arguments[0]=t=n.$handleEvent(t),n.click.apply(void 0,arguments)}}},[e("v-uni-scroll-view",{staticStyle:{height:"370upx"},attrs:{"scroll-y":"true"}},n._l(n.recordPathList,(function(t,i){return e("v-uni-view",{key:t.name,staticClass:"record_list_contentBox"},[e("span",{staticClass:"record_list_contentTitle"},[n._v(n._s(i+1)+" : "+n._s(t.name))]),e("v-uni-checkbox",{staticClass:"record_list_checkbox",attrs:{value:t.name}})],1)})),1)],1),n.hasRecord?e("v-uni-button",{staticClass:"delete_record",attrs:{type:"warn"},on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.deleteRecord.apply(void 0,arguments)}}},[n._v("删除")]):n._e()],1)],1),e("prompt",{attrs:{visible:n.promptVisible,placeholder:n.popupPlaceholder,mainColor:"#e74a39",title:n.popupTitle},on:{confirm:function(t){arguments[0]=t=n.$handleEvent(t),n.clickPromptConfirm.apply(void 0,arguments)},cancel:function(t){arguments[0]=t=n.$handleEvent(t),n.clickPromptCancel.apply(void 0,arguments)}}})],1):n._e()},a=[];e.d(t,"b",(function(){return o})),e.d(t,"c",(function(){return a})),e.d(t,"a",(function(){return i}))},"179c":function(n,t,e){"use strict";var i=e("ee27");e("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(e("c2e0")),a=i(e("f97f")),r=uni.getRecorderManager(),s=uni.createInnerAudioContext(),l={name:"lwj-record",props:{recordTime:{type:Number,default:600},popupPlaceholder:{type:String,default:"请主人赐名"},popupTitle:{type:String,default:"给这条录音起个名字吧"},recordPathList:{type:Array,default:function(){return[]}}},watch:{recordPathList:function(){0!=this.recordPathList.length?this.hasRecord=!0:this.hasRecord=!1},whichPage:function(){1==this.whichPage?this.hasRecord=!1:this.hasRecord=!0},name:function(n){""!=this.name&&(o.default.isRepeat(n,this.recordPathList)?o.default.showToast("请不要起同样的名字哦~~","bottom"):(o.default.showToast("保存成功","bottom"),this.recordPathList.push({voicePath:this.voicePath,time:this.time,name:this.name}),this.name="",this.voicePath=";",this.time=0,this.promptVisible=!1,this.flag=1))}},mounted:function(){0!=this.recordPathList.length&&(this.hasRecord=!0)},data:function(){return{exist:!0,flag:1,hasRecord:!1,voicePath:"",time:0,chooseList:[],playItem:null,promptVisible:!1,name:"",currentTime:0,whichPage:0}},components:{Prompt:a.default},computed:{showRecordTime:function(){return o.default.formatTime(this.time)}},methods:{closeRecord:function(){1==this.flag&&0==this.time&&(this.exist=!1,this.$emit("closeRecord",this.recordPathList))},startRecord:function(){var n=this;r.start({duration:1e3*this.recordTime}),null==this.timeObj&&(this.timeObj=setInterval((function(){n.time++}),1e3),this.flag=2)},pauseRecord:function(){r.pause(),clearInterval(this.timeObj),this.timeObj=null,this.flag=3},resumeRecord:function(){var n=this;r.resume(),null==this.timeObj&&(this.timeObj=setInterval((function(){n.time++}),1e3),this.flag=2)},stopRecord:function(){if(1!=this.flag){var n=this;r.stop(),r.onStop((function(t){clearInterval(n.timeObj),n.timeObj=null,n.voicePath=t.tempFilePath,n.promptVisible=!0}))}},click:function(n){this.chooseList=n.detail.value},changeBtnPage:function(n){var t=0==this.whichPage&&1==this.flag||1==this.whichPage&&0==this.time;t||(0==this.whichPage&&this.stopRecord(),1==this.whichPage&&this.stopPlay()),this.whichPage=n.detail.current,console.log(this.chooseList)},deleteRecord:function(){this.recordPathList=o.default.deleteListMethods(this.recordPathList,this.chooseList),this.chooseList=[],o.default.showToast("删除成功","bottom")},clickPromptConfirm:function(n){this.name=n},clickPromptCancel:function(){this.promptVisible=!1,o.default.deleteOneFile(this.voicePath),this.voicePath="",this.time=0,this.flag=1},playRecord:function(){var n=this;if(s.autoplay=!0,0==this.currentTime){1!=this.chooseList.length&&o.default.showToast("有多个选中项，只播放最上面一条","bottom"),this.playItem=this.chooseList[0];var t=o.default.findRecordPath(this.playItem,this.recordPathList);if(console.log(t),null==t)return o.default.showToast("当前播放路径无效","bottom"),void(s.src=void 0);s.src=t}else s.seek=this.currentTime;s.play(),s.onPlay((function(){0==n.currentTime&&(s.duration,setTimeout((function(){n.time=Math.round(s.duration)}),50)),null==n.playTimeClock&&(n.playTimeClock=setInterval((function(){n.time--}),1e3))})),s.onEnded((function(){clearInterval(n.playTimeClock),n.playTimeClock=null,n.time=0,n.currentTime=0,s.src=void 0}))},pausePlay:function(){if(0!=this.chooseList.length){var n=this;s.pause(),s.onPause((function(){n.currentTime=Math.round(s.currentTime),clearInterval(n.playTimeClock),n.playTimeClock=null}))}else o.default.showToast("无效操作","bottom")},stopPlay:function(){0!=this.chooseList.length?(s.stop(),clearInterval(this.playTimeClock),this.playTimeClock=null,this.time=0,this.currentTime=0,s.src=void 0):o.default.showToast("无效操作","bottom")}}};t.default=l},"40dd":function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{visible:{type:Boolean,default:!1,required:!0},title:{type:String,default:"提示"},placeholder:{type:String,default:"请输入内容"},mainColor:{type:String,default:"#e74a39"},defaultValue:{type:String,default:""},inputStyle:{type:String,default:""},isMutipleLine:{type:Boolean,default:!1}},data:function(){return{value:""}},watch:{visible:function(n){n&&(this.value=this.defaultValue)}},mounted:function(){this.value="true"===this.defaultValue?"":this.defaultValue},methods:{close:function(){this.$emit("cancel")},confirm:function(){this.$emit("confirm",this.value),this.value=""}}};t.default=i},"507c":function(n,t,e){"use strict";var i,o=function(){var n=this,t=n.$createElement,e=n._self._c||t;return n.visible?e("v-uni-view",{staticClass:"prompt-box",on:{touchmove:function(t){arguments[0]=t=n.$handleEvent(t),(!0).apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"prompt"},[e("v-uni-view",{staticClass:"prompt-top"},[e("v-uni-text",{staticClass:"prompt-title"},[n._v(n._s(n.title))]),n.isMutipleLine?e("v-uni-textarea",{staticClass:"prompt-input",style:n.inputStyle,attrs:{type:"text",placeholder:n.placeholder},model:{value:n.value,callback:function(t){n.value=t},expression:"value"}}):e("v-uni-input",{staticClass:"prompt-input",style:n.inputStyle,attrs:{type:"text",placeholder:n.placeholder},model:{value:n.value,callback:function(t){n.value=t},expression:"value"}})],1),n._t("default"),e("v-uni-view",{staticClass:"prompt-buttons"},[e("v-uni-button",{staticClass:"prompt-cancle",style:"color:"+n.mainColor,on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.close.apply(void 0,arguments)}}},[n._v("取消")]),e("v-uni-button",{staticClass:"prompt-confirm",style:"background:"+n.mainColor,on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.confirm.apply(void 0,arguments)}}},[n._v("确定")])],1)],2)],1):n._e()},a=[];e.d(t,"b",(function(){return o})),e.d(t,"c",(function(){return a})),e.d(t,"a",(function(){return i}))},"5e2e":function(n,t,e){"use strict";var i=e("e31d"),o=e.n(i);o.a},"72cf":function(n,t,e){"use strict";e.r(t);var i=e("40dd"),o=e.n(i);for(var a in i)"default"!==a&&function(n){e.d(t,n,(function(){return i[n]}))}(a);t["default"]=o.a},"9e2c":function(n,t,e){var i=e("24fb");t=i(!1),t.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* mask盒子 */.mask[data-v-7a3e43f3]{position:fixed;left:0;top:0;width:100%;height:100vh;background:rgba(0,0,0,.2);-webkit-transition:opacity .2s linear;transition:opacity .2s linear}\n/* 录音界面盒子 */.record_box[data-v-7a3e43f3]{\n\t/* 录音界面固定位置 */position:fixed;display:-webkit-box;display:-webkit-flex;display:flex;bottom:0;width:100%;height:40%;\n\t/* 录音界面背景颜色 */background-color:#fff}\n/* 工具栏，包括按钮与时间 */.tool_box[data-v-7a3e43f3]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;width:30%;height:100%}\n/* 录音界面盒子 */.record_contentBox[data-v-7a3e43f3]{position:relative;width:70%;height:100%;padding:1% 2% 0}\n/* 工具栏区域中的展示时间部分 */.showTime[data-v-7a3e43f3]{position:relative;height:30%}\n/* 显示时间的样式 */.showTime_content[data-v-7a3e43f3]{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);font-size:30px}\n/* 工具栏区域中的展示按钮部分 */.button_list[data-v-7a3e43f3]{height:70%}\n/* 开始、暂停等按钮的样式 */.button_box_one>uni-button[data-v-7a3e43f3]{font-size:16px;padding:0 12px}\n/* 播放、暂停播放，停止播放按钮 */.button_box_two>uni-button[data-v-7a3e43f3]{font-size:16px;padding:0 12px}\n/* 录音列表展示区域盒子 */.record_list_contentBox[data-v-7a3e43f3]{position:relative;margin-bottom:2px}\n/* 录音文件名 */.record_list_contentTitle[data-v-7a3e43f3]{display:inline-block;width:85%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}\n/* 录音列表的选择框 */.record_list_checkbox[data-v-7a3e43f3]{position:absolute;right:0}\n/* 当前录音列表 */.record_list_title[data-v-7a3e43f3]{\n\t/* 标题距离列表内容的距离 */margin-bottom:1%;text-align:center}\n/* 删除录音按钮的样式 */.delete_record[data-v-7a3e43f3]{position:absolute;width:35%;bottom:3%;right:2%;font-size:16px}",""]),n.exports=t},b2cd:function(n,t,e){"use strict";e.r(t);var i=e("1569"),o=e("c2f5");for(var a in o)"default"!==a&&function(n){e.d(t,n,(function(){return o[n]}))}(a);e("5e2e");var r,s=e("f0c5"),l=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"7a3e43f3",null,!1,i["a"],r);t["default"]=l.exports},c2e0:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={formatTime:a,deleteOneFile:r,deleteListMethods:s,findRecordPath:c,showToast:u,isRepeat:l},o=i;function a(n){if(0==n)return"00:00";var t=Math.floor(n/60),e=n%60;return t<10&&(t="0"+t),e<10&&(e="0"+e),t+":"+e}function r(n){uni.removeSavedFile({filePath:n,success:function(n){console.log("success"),console.log(n)},fail:function(n){console.log("删除失败"),console.log(n)}})}function s(n,t){var e=[];for(var i in n)for(var o in t)n[i].name==t[o]?r(n[i].voicePath):e.push(n[i]);return e}function l(n,t){for(var e in t)if(t[e].name==n)return!0}function c(n,t){for(var e=0,i=t.length;e<i;e++)if(t[e].name==n)return t[e].voicePath;return null}function u(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bottom";uni.showToast({mask:!0,title:n,position:t,duration:2e3})}t.default=o},c2f5:function(n,t,e){"use strict";e.r(t);var i=e("179c"),o=e.n(i);for(var a in i)"default"!==a&&function(n){e.d(t,n,(function(){return i[n]}))}(a);t["default"]=o.a},c6e6:function(n,t,e){"use strict";var i=e("0a49"),o=e.n(i);o.a},d129:function(n,t,e){var i=e("24fb");t=i(!1),t.push([n.i,"uni-view[data-v-439f2c48],\nuni-button[data-v-439f2c48],\nuni-input[data-v-439f2c48]{-webkit-box-sizing:border-box;box-sizing:border-box}.prompt-box[data-v-439f2c48]{position:fixed;left:0;top:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:100%;height:100vh;background:rgba(0,0,0,.2);-webkit-transition:opacity .2s linear;transition:opacity .2s linear}.prompt[data-v-439f2c48]{position:relative;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:%?600?%;min-height:%?300?%;background:#fff;border-radius:%?20?%;overflow:hidden}.prompt-top[data-v-439f2c48]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:100%}.prompt-title[data-v-439f2c48]{margin:%?20?% 0;color:#333}.prompt-input[data-v-439f2c48]{width:%?520?%;min-height:%?72?%;padding:%?8?% %?16?%;border:%?2?% solid #ddd;border-radius:%?8?%;font-size:%?28?%;text-align:left}.prompt-buttons[data-v-439f2c48]{display:-webkit-box;display:-webkit-flex;display:flex;width:100%;-webkit-box-shadow:0 0 %?2?% %?2?% #eee;box-shadow:0 0 %?2?% %?2?% #eee}.prompt-buttons uni-button[data-v-439f2c48]:after{border-radius:0}uni-button[data-v-439f2c48]{width:50%;background:#fff;border-radius:0}.prompt-cancle[data-v-439f2c48]{background:#fff}.prompt-confirm[data-v-439f2c48]{color:#fff}",""]),n.exports=t},e31d:function(n,t,e){var i=e("9e2c");"string"===typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);var o=e("4f06").default;o("524f3a82",i,!0,{sourceMap:!1,shadowMode:!1})},f97f:function(n,t,e){"use strict";e.r(t);var i=e("507c"),o=e("72cf");for(var a in o)"default"!==a&&function(n){e.d(t,n,(function(){return o[n]}))}(a);e("c6e6");var r,s=e("f0c5"),l=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"439f2c48",null,!1,i["a"],r);t["default"]=l.exports}}]);